<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Data Anggota P2TEL</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    th, td {
      font-size: 0.85rem;
      vertical-align: middle;
    }
    table {
      table-layout: auto;
      overflow-x: auto;
      display: block;
      white-space: nowrap;
    }
    .action-icons a {
      margin: 0 5px;
      text-decoration: none;
    }
  </style>
</head>
<body>
<div class="container py-4">
  <h2 class="text-center mb-4">Tabel Data Anggota P2TEL - Jakarta Selatan</h2>
  <form method="GET" action="{{ url_for('show_data') }}" class="row g-2 mb-3">
  <div class="col-md-4">
    <input type="text" name="keyword" class="form-control" placeholder="Cari nama / NIK / kota..." value="{{ keyword }}">
  </div>
  <div class="col-md-2">
    <button type="submit" class="btn btn-outline-primary">Cari</button>
    {% if keyword %}
    <a href="{{ url_for('show_data') }}" class="btn btn-outline-secondary ms-2">Reset</a>
    {% endif %}
  </div>
</form>


  <div class="table-responsive">
    <table class="table table-bordered table-striped table-hover">
      <thead class="table-dark">
        <tr>
          <th>NIK</th>
          <th>Nama</th>
          <th>Tgl Lahir</th>
          <th>Status</th>
          <th>NPWP</th>
          <th>Gol. Darah</th>
          <th>Agama</th>
          <th>Jalan</th>
          <th>Gang</th>
          <th>No Rumah</th>
          <th>RT</th>
          <th>RW</th>
          <th>Kel/Desa</th>
          <th>Kecamatan</th>
          <th>Kab/Kota</th>
          <th>Kodepos</th>
          <th>Telp Rumah</th>
          <th>No HP</th>
          <th>Nama Bank</th>
          <th>Cabang</th>
          <th>No Rekening</th>
          <th>Nama Pemilik</th>
          <th>Nama Pasangan</th>
          <th>No KTP Pasangan</th>
          <th>Agama Pasangan</th>
          <th>Jenis Kelamin</th>
          <th>Status Pasangan</th>
          <th>Aksi</th>
        </tr>
      </thead>
      <tbody>
        {% for row in data %}
        <tr>
          <td>{{ row['NIK'] }}</td>
          <td>{{ row['nama'] }}</td>
          <td>{{ row['tgl_lahir'] }}</td>
          <td>{{ row['status'] }}</td>
          <td>{{ row['NPWP'] }}</td>
          <td>{{ row['gol_darah'] }}</td>
          <td>{{ row['agama'] }}</td>
          <td>{{ row['jalan'] }}</td>
          <td>{{ row['gang'] }}</td>
          <td>{{ row['no_rumah'] }}</td>
          <td>{{ row['RT'] }}</td>
          <td>{{ row['RW'] }}</td>
          <td>{{ row['kel_desa'] }}</td>
          <td>{{ row['kecamatan'] }}</td>
          <td>{{ row['kabkota'] }}</td>
          <td>{{ row['kodepos'] }}</td>
          <td>{{ row['no_telp_rumah'] }}</td>
          <td>{{ row['no_hp'] }}</td>
          <td>{{ row['nama_bank'] }}</td>
          <td>{{ row['cabang'] }}</td>
          <td>{{ row['no_rekening'] }}</td>
          <td>{{ row['nama_pemilik'] }}</td>
          <td>{{ row['nama_pasangan'] }}</td>
          <td>{{ row['no_ktp_pasangan'] }}</td>
          <td>{{ row['agama_pasangan'] }}</td>
          <td>{{ row['jenis_kelamin'] }}</td>
          <td>{{ row['status_pasangan'] }}</td>
          <td class="action-icons text-center">
            <a href="{{ url_for('edit', nik=row['NIK']) }}" class="text-primary" title="Edit"><i class="bi bi-pencil-square"></i></a>
            <a href="{{ url_for('delete', nik=row['NIK']) }}" class="text-danger" title="Delete" onclick="return confirm('Yakin ingin menghapus data ini?')"><i class="bi bi-trash-fill"></i></a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>


  <button><a href="/" class="btn btn-primary">Tambah Data</a></button>

</div>
</body>
</html>
